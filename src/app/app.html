<div class="app-shell">
      <header class="app-header">
        <div class="app-header__content">
          <div class="app-brand">
            <img class="app-logo" src="assets/logo.png" alt="TuCash logo" />
            <h1 class="app-title">{{ 'app.title' | translate }}</h1>
          </div>
          <div class="app-header__actions">
            @if (showBottomNav) {
              <app-notification-badge />
            }
            <app-lang-switcher />
          </div>
        </div>
      </header>

      <main class="app-content">
        <section class="app-main">
          <router-outlet />
        </section>
      </main>

      <nav class="app-bottom-nav" *ngIf="showBottomNav">
        <a
          class="app-bottom-nav__item"
          routerLink="/home"
          routerLinkActive="app-bottom-nav__item--active"
          [routerLinkActiveOptions]="{ exact: true }"
        >
          <span class="app-bottom-nav__icon" aria-hidden="true">ğŸ </span>
          <span class="app-bottom-nav__label">{{ 'nav.home' | translate }}</span>
        </a>

        <a
          class="app-bottom-nav__item"
          routerLink="/transactions"
          routerLinkActive="app-bottom-nav__item--active"
        >
          <span class="app-bottom-nav__icon" aria-hidden="true">ğŸ’°</span>
          <span class="app-bottom-nav__label">{{ 'nav.transactions' | translate }}</span>
        </a>

        <a
          class="app-bottom-nav__item"
          routerLink="/savings/goals"
          routerLinkActive="app-bottom-nav__item--active"
        >
          <span class="app-bottom-nav__icon" aria-hidden="true">ğŸ¯</span>
          <span class="app-bottom-nav__label">{{ 'nav.goals' | translate }}</span>
        </a>

        <a
          class="app-bottom-nav__item"
          routerLink="/savings/budgets"
          routerLinkActive="app-bottom-nav__item--active"
        >
          <span class="app-bottom-nav__icon" aria-hidden="true">ğŸ“Š</span>
          <span class="app-bottom-nav__label">{{ 'nav.budgets' | translate }}</span>
        </a>

        <a
          class="app-bottom-nav__item"
          routerLink="/iam/profile"
          routerLinkActive="app-bottom-nav__item--active"
        >
          <span class="app-bottom-nav__icon" aria-hidden="true">ğŸ‘¤</span>
          <span class="app-bottom-nav__label">{{ 'nav.profile' | translate }}</span>
        </a>
      </nav>

      <!-- FAB Global Contextual -->
      @if (showBottomNav && getFabOptions().length > 0) {
        <div class="fab-container" [class.open]="fabMenuOpen()">
          <!-- Opciones del menÃº -->
          @if (fabMenuOpen()) {
            <div class="fab-menu">
              @for (option of getFabOptions(); track option.label) {
                <button
                  type="button"
                  [class]="'fab-option ' + option.class"
                  (click)="handleFabOptionClick(option)"
                >
                  <span class="fab-option-icon">{{ option.icon }}</span>
                  <span class="fab-option-label">{{ option.label | translate }}</span>
                </button>
              }
            </div>
          }

          <!-- BotÃ³n principal -->
          <button type="button" class="fab" (click)="toggleFabMenu()" [attr.aria-label]="'fab.menu' | translate">
            <span class="fab-icon" [class.rotated]="fabMenuOpen()">+</span>
          </button>
        </div>
      }
    </div>