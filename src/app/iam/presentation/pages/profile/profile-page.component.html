<div class="profile-page">
  <div class="profile-header">
    <div class="profile-avatar">
      @if (user && user.photoUrl) {
        <img [src]="user.photoUrl" alt="Profile" class="avatar-image" />
      } @else {
        <span class="avatar-icon">ğŸ‘¤</span>
      }
    </div>
    <h1 class="profile-name">{{ user?.displayName || 'Usuario' }}</h1>
    <p class="profile-email">{{ user?.email }}</p>
  </div>

  <div class="profile-sections">
    <!-- SecciÃ³n: Cuenta -->
    <section class="profile-section card">
      <h2 class="section-title">{{ 'profile.account.title' | translate }}</h2>
      <div class="menu-list">
        <a class="menu-item" routerLink="/iam/profile/edit">
          <span class="menu-icon">âœï¸</span>
          <span class="menu-label">{{ 'profile.account.editProfile' | translate }}</span>
          <span class="menu-arrow">â†’</span>
        </a>
        <a class="menu-item" routerLink="/iam/profile/security">
          <span class="menu-icon">ğŸ”’</span>
          <span class="menu-label">{{ 'profile.account.security' | translate }}</span>
          <span class="menu-arrow">â†’</span>
        </a>
      </div>
    </section>

    <!-- SecciÃ³n: Preferencias -->
    <section class="profile-section card">
      <h2 class="section-title">{{ 'profile.preferences.title' | translate }}</h2>
      <div class="menu-list">
        <a class="menu-item" routerLink="/iam/profile/notifications">
          <span class="menu-icon">ğŸ””</span>
          <span class="menu-label">{{ 'profile.preferences.notifications' | translate }}</span>
          <span class="menu-arrow">â†’</span>
        </a>
        <a class="menu-item" routerLink="/iam/profile/reminders">
          <span class="menu-icon">â°</span>
          <span class="menu-label">{{ 'profile.preferences.reminders' | translate }}</span>
          <span class="menu-arrow">â†’</span>
        </a>
        <a class="menu-item" routerLink="/iam/profile/theme">
          <span class="menu-icon">ğŸ¨</span>
          <span class="menu-label">{{ 'profile.preferences.theme' | translate }}</span>
          <span class="menu-arrow">â†’</span>
        </a>
        <a class="menu-item" routerLink="/iam/profile/language">
          <span class="menu-icon">ğŸŒ</span>
          <span class="menu-label">{{ 'profile.preferences.language' | translate }}</span>
          <span class="menu-arrow">â†’</span>
        </a>
      </div>
    </section>

    <!-- SecciÃ³n: Ayuda -->
    <section class="profile-section card">
      <h2 class="section-title">{{ 'profile.help.title' | translate }}</h2>
      <div class="menu-list">
        <a class="menu-item" href="https://tucash.github.io/landingPage" target="_blank">
          <span class="menu-icon">â„¹ï¸</span>
          <span class="menu-label">{{ 'profile.help.about' | translate }}</span>
          <span class="menu-arrow">â†—</span>
        </a>
        <a class="menu-item" href="mailto:support@tucash.com">
          <span class="menu-icon">ğŸ“§</span>
          <span class="menu-label">{{ 'profile.help.support' | translate }}</span>
          <span class="menu-arrow">â†—</span>
        </a>
      </div>
    </section>

    <!-- BotÃ³n Cerrar SesiÃ³n -->
    <button type="button" class="logout-button" (click)="onLogout()">
      {{ 'profile.logout' | translate }}
    </button>
  </div>

  <!-- Modal de confirmaciÃ³n de logout -->
  @if (showLogoutConfirm()) {
    <div class="modal-overlay" (click)="cancelLogout()">
      <div class="modal-dialog" (click)="$event.stopPropagation()">
        <h3 class="modal-title">{{ 'profile.logoutConfirm.title' | translate }}</h3>
        <p class="modal-message">{{ 'profile.logoutConfirm.message' | translate }}</p>
        <div class="modal-actions">
          <button type="button" class="btn btn-cancel" (click)="cancelLogout()">
            {{ 'profile.logoutConfirm.cancel' | translate }}
          </button>
          <button type="button" class="btn btn-confirm" (click)="confirmLogout()">
            {{ 'profile.logoutConfirm.confirm' | translate }}
          </button>
        </div>
      </div>
    </div>
  }
</div>
