<section class="login-page">
  <div class="login-card">
    <button class="login-card__back" type="button" (click)="onBack()">
      <span aria-hidden="true">&larr;</span>
      <span>{{ 'login.back' | translate }}</span>
    </button>

    <header class="login-card__header">
      <h1 class="login-card__brand">{{ 'app.title' | translate }}</h1>
      <h2 class="login-card__title">{{ 'login.headline' | translate }}</h2>
    </header>

    <form class="login-form" (ngSubmit)="onSubmit()" [formGroup]="loginForm" autocomplete="off">
      <div class="login-form__field">
        <label for="email">{{ 'login.email' | translate }}</label>
        <input id="email" type="email" formControlName="email" />
        <div *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" class="login-form__error">
          {{ 'login.errors.email' | translate }}
        </div>
      </div>

      <div class="login-form__field">
        <label for="password">{{ 'login.password' | translate }}</label>
        <div class="login-form__password">
          <input
            [type]="hidePassword ? 'password' : 'text'"
            id="password"
            formControlName="password"
            autocomplete="current-password"
          />
          <button
            class="login-form__password-toggle"
            type="button"
            (click)="togglePasswordVisibility()"
          >
            {{ hidePassword ? ('login.showPassword' | translate) : ('login.hidePassword' | translate) }}
          </button>
        </div>
        <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="login-form__error">
          {{ 'login.errors.password' | translate }}
        </div>
      </div>

      <div class="login-form__options">
        <label class="login-form__remember">
          <input type="checkbox" formControlName="remember" />
          <span>{{ 'login.remember' | translate }}</span>
        </label>

        <button type="button" class="login-form__forgot" (click)="onForgotPassword()">
          {{ 'login.forgot' | translate }}
        </button>
      </div>

      <button type="submit" class="login-form__submit" [disabled]="loginForm.invalid || isSubmitting">
        {{ 'login.signIn' | translate }}
      </button>

      <p *ngIf="errorMessage" class="login-form__feedback login-form__feedback--error">
        {{ errorMessage }}
      </p>
    </form>

    <div class="login-card__switch">
      <span>{{ 'login.noAccount' | translate }}</span>
      <a routerLink="/auth/register">{{ 'login.createAccount' | translate }}</a>
    </div>

    <footer class="login-card__footer">
      <span>{{ 'login.footerCopy' | translate }}</span>
      <span class="login-card__footer-link">{{ 'login.footerLink' | translate }}</span>
    </footer>
  </div>
</section>
